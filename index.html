<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Streaks</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <h1 class="app-title">Streaks</h1>
        <div class="month-nav">
          <button id="prevMonth" aria-label="Previous month" title="Previous month">&#x2039;</button>
          <div id="monthLabel" class="month-label" aria-live="polite"></div>
          <button id="nextMonth" aria-label="Next month" title="Next month">&#x203A;</button>
          <button id="openSettings" aria-label="Open settings" title="Settings" style="margin-left:8px">⚙</button>
        </div>
      </header>

      <main>
        <noscript>
          <div style="padding:12px;color:#fca5a5;background:#3f1d1d;border:1px solid #7f1d1d;border-radius:8px;margin-bottom:12px;">
            JavaScript is required to display the calendar.
          </div>
        </noscript>
        <div class="calendar" id="calendar" aria-label="Month view calendar"></div>
      </main>

      <footer class="app-footer">
        <span class="hint">Click a day to edit details. Ctrl/Cmd-click to darken. Right-click to decrement.</span>
      </footer>
    </div>

    <!-- Day editor modal -->
    <div id="dayModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="dayModalTitle" hidden>
      <div class="modal-backdrop" data-modal-close></div>
      <div class="modal-content">
        <header class="modal-header">
          <h2 id="dayModalTitle" class="modal-title">Edit Day</h2>
          <button class="modal-close" aria-label="Close" title="Close" data-modal-close>×</button>
        </header>
        <form id="dayForm" class="modal-body">
          <div id="customFieldsContainer" class="field-grid"></div>

          <div class="field">
            <label class="checkbox">
              <input type="checkbox" id="workoutDone" name="workoutDone" />
              <span>Workout done</span>
            </label>
          </div>

          <div class="field">
            <label for="dietNotes">Diet notes</label>
            <textarea id="dietNotes" name="dietNotes" rows="2" placeholder="What did you eat?" ></textarea>
          </div>

          <div class="field">
            <label for="workoutNotes">Workout notes</label>
            <textarea id="workoutNotes" name="workoutNotes" rows="2" placeholder="Workout details" ></textarea>
          </div>

          <div class="modal-actions">
            <button type="button" id="resetDay" class="btn danger">Reset Day</button>
            <span class="spacer"></span>
            <button type="button" class="btn" data-modal-close>Cancel</button>
            <button type="submit" class="btn primary">Save</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Settings modal -->
    <div id="settingsModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="settingsModalTitle" hidden>
      <div class="modal-backdrop" data-settings-close></div>
      <div class="modal-content">
        <header class="modal-header">
          <h2 id="settingsModalTitle" class="modal-title">Settings</h2>
          <button class="modal-close" aria-label="Close" title="Close" data-settings-close>×</button>
        </header>
        <form id="settingsForm" class="modal-body">
          <div class="field" style="margin-bottom:2px;">
            <label>Custom fields (max 5)</label>
          </div>
          <div id="fieldsList"></div>
          <div class="modal-actions">
            <button type="button" id="addField" class="btn">Add field</button>
            <span class="spacer"></span>
            <button type="button" class="btn" data-settings-close>Cancel</button>
            <button type="submit" class="btn primary">Save</button>
          </div>
        </form>
      </div>
    </div>

    <script src="script.js" defer></script>
  </body>
  </html>


